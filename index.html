<!DOCTYPE html>
<html>
<head>
  <title>SXS TRVNSFVRM</title>
  <style>
    body {
      margin: 0;
      text-align: center;
      font-family: Arial, Helvetica, sans-serif;
    }
    textarea {
      display: block;
      width: 100%;
    }
  </style>
  <script type="module">
    import { parse } from './node_modules/csv-parse/dist/esm/sync.js'
    import { stringify } from './node_modules/csv-stringify/dist/esm/sync.js'
    import { convert } from './convert.js'

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelector('button').addEventListener('click', async () => {
        document.getElementById('result').innerText = ''
        document.getElementById('output').value = convert(
          document.getElementById('input').value,
          parse,
          stringify
        )
        setTimeout(
          () => document.getElementById('result').innerText = 'Meddl',
          1000
        )
      })
    })
  </script>
  <h2>Bandcamp CSV</h2>
  <textarea id="input" rows="10"></textarea>
  <br />
  <button>TRVNSFVRM</button>
  <h2>Shippo CSV</h2>
  <textarea id="output" rows="10"></textarea>
  <p id="result"></p>
</html>